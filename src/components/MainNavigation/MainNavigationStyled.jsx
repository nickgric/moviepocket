import { Flex, Icon } from "@chakra-ui/react";
import { Link } from "react-router-dom";

import { useBoolean } from "@chakra-ui/react";
import { useLocation } from "react-router-dom";
import { useEffect } from "react";

import { accentColor, secondaryAccentColor } from "../../styles/variables";

export const MainNavigationBox = ({ children }) => {
  return (
    <Flex
      justifyContent={"center"}
      alignItems={"center"}
      flexDirection={{ base: "row", tab: "column" }}
      w={"100%"}
      h={"100%"}
    >
      {children}
    </Flex>
  );
};

export const MainNavigationItem = ({ name, to }) => {
  const [active, setActive] = useBoolean();
  const location = useLocation();

  useEffect(() => {
    if (to !== "/") {
      location.pathname.includes(to) ? setActive.on() : setActive.off();
    } else location.pathname === to ? setActive.on() : setActive.off();
  }, [location.pathname, to, setActive]);

  return (
    <Flex
      as={Link}
      to={to}
      h={{ base: "100%", tab: "200px" }}
      w={{ base: "75px", tab: "100%" }}
      justifyContent={"center"}
      alignItems={"center"}
      onMouseEnter={setActive.on}
      onMouseLeave={() => {
        if (to !== "/") {
          location.pathname.includes(to) ? setActive.on() : setActive.off();
        } else location.pathname === to ? setActive.on() : setActive.off();
      }}
      _hover={{
        background: {
          base: "linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.0748) 50.85%, rgba(255, 255, 255, 0) 100%)",
          mobMax:
            "linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.0748) 50.85%, rgba(255, 255, 255, 0) 100%)",
        },
      }}
    >
      <MainNavigationIcon name={name} active={active} />
    </Flex>
  );
};

const MainNavigationIcon = ({ name, active }) => {
  const fill = active ? accentColor : secondaryAccentColor;

  return (
    <Icon viewBox="0 0 28 28" w={"28px"} h={"28px"}>
      {name === "Home" && (
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M15.1262 5.52338C14.8029 5.28786 14.3642 5.28786 14.0401 5.52338L8.11793 9.83105V20.6113C8.11793 21.1211 8.5317 21.5349 9.04153 21.5349H10.8887V15.9933C10.8887 14.4629 12.1291 13.2225 13.6595 13.2225H15.5067C17.0371 13.2225 18.2775 14.4629 18.2775 15.9933V21.5349H20.1247C20.6346 21.5349 21.0483 21.1211 21.0483 20.6113V9.83105L15.1262 5.52338ZM22.8955 11.174L24.1997 12.1225C24.6116 12.4227 25.1898 12.3312 25.4899 11.9184C25.7901 11.5065 25.6987 10.9283 25.2858 10.6281L16.2133 4.02992C15.2407 3.32336 13.9255 3.32336 12.953 4.02992L3.88045 10.6281C3.4676 10.9283 3.37709 11.5065 3.67633 11.9184C3.9765 12.3312 4.55468 12.4227 4.9666 12.1225L6.27073 11.174V20.6113C6.27073 22.1417 7.51112 23.3821 9.04153 23.3821H20.1247C21.6551 23.3821 22.8955 22.1417 22.8955 20.6113V11.174ZM16.4303 21.5349V15.9933C16.4303 15.4835 16.0166 15.0697 15.5067 15.0697H13.6595C13.1497 15.0697 12.7359 15.4835 12.7359 15.9933V21.5349H16.4303V21.5349Z"
          fill={fill}
        />
      )}
      {name === "Search" && (
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M11.7297 19.9595C7.18458 19.9595 3.50001 16.2749 3.50001 11.7297C3.50001 7.18458 7.18458 3.5 11.7297 3.5C16.2749 3.5 19.9595 7.18458 19.9595 11.7297C19.9595 13.6957 19.2701 15.5006 18.12 16.916L24.2506 23.0467C24.5831 23.3791 24.5831 23.9182 24.2506 24.2506C23.9182 24.5831 23.3791 24.5831 23.0467 24.2506L16.916 18.12C15.5006 19.2701 13.6957 19.9595 11.7297 19.9595ZM11.7297 18.2568C15.3345 18.2568 18.2568 15.3345 18.2568 11.7297C18.2568 8.12495 15.3345 5.2027 11.7297 5.2027C8.12496 5.2027 5.20271 8.12495 5.20271 11.7297C5.20271 15.3345 8.12496 18.2568 11.7297 18.2568Z"
          fill={fill}
        />
      )}
      {name === "Pocket" && (
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M3.5 8.45831C3.5 7.00844 4.67512 5.83331 6.125 5.83331H21.875C23.3249 5.83331 24.5 7.00844 24.5 8.45831V18.9583C24.5 20.4082 23.3249 21.5833 21.875 21.5833H6.125C4.67512 21.5833 3.5 20.4082 3.5 18.9583V8.45831ZM6.125 7.58331C5.642 7.58331 5.25 7.97531 5.25 8.45831V9.33331H22.75V8.45831C22.75 7.97531 22.358 7.58331 21.875 7.58331H6.125ZM22.75 11.0833H5.25V18.9583C5.25 19.4413 5.642 19.8333 6.125 19.8333H21.875C22.358 19.8333 22.75 19.4413 22.75 18.9583V11.0833ZM7 17.2083C7 16.7253 7.392 16.3333 7.875 16.3333H13.125C13.608 16.3333 14 16.7253 14 17.2083C14 17.6913 13.608 18.0833 13.125 18.0833H7.875C7.392 18.0833 7 17.6913 7 17.2083Z"
          fill={fill}
        />
      )}
      {name === "User" && (
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M14 24.5C19.799 24.5 24.5 19.799 24.5 14C24.5 8.20101 19.799 3.5 14 3.5C8.20101 3.5 3.5 8.20101 3.5 14C3.5 19.799 8.20101 24.5 14 24.5ZM6.957 19.4167C5.80216 17.9173 5.11538 16.0389 5.11538 14C5.11538 9.09316 9.09316 5.11538 14 5.11538C18.9068 5.11538 22.8846 9.09316 22.8846 14C22.8846 16.0393 22.1976 17.918 21.0423 19.4175C20.5152 18.9395 19.8416 18.5938 18.9551 18.2747C18.8223 18.2269 18.6862 18.1799 18.5163 18.1228L18.1025 17.9843C17.0963 17.6448 16.7403 17.4291 16.6575 17.1562C16.6547 17.147 16.6502 17.13 16.6439 17.0969C16.6081 16.9079 16.6163 16.7011 16.6898 16.5296C16.7332 16.4284 16.7994 16.3383 16.8986 16.2554C18.0144 15.2481 18.5769 14.1128 18.5769 12.5643C18.5769 9.86646 16.4661 7.80769 14 7.80769C11.517 7.80769 9.42308 9.83138 9.42308 12.5643C9.42308 14.1083 9.97096 15.2104 11.047 16.2237C11.1855 16.3405 11.255 16.426 11.3023 16.5156C11.3938 16.6891 11.4055 16.8903 11.3654 17.0755C11.3625 17.0888 11.3602 17.0987 11.3587 17.105C11.3568 17.1126 11.3563 17.1147 11.3578 17.1107C11.2781 17.3938 10.948 17.5972 10.0176 17.915L9.541 18.0759C9.3422 18.1434 9.18417 18.1988 9.02949 18.2558C8.15769 18.5776 7.48404 18.933 6.957 19.4167ZM8.05699 20.6044C9.63121 22.0219 11.7149 22.8846 14 22.8846C16.2846 22.8846 18.3678 22.0223 19.9419 20.6054C19.5894 20.293 19.1009 20.044 18.408 19.7946C18.2875 19.7512 18.1613 19.7077 18.0012 19.6539L17.5861 19.5149C16.0834 19.0079 15.4069 18.5981 15.1158 17.6385C15.0974 17.5814 15.0762 17.5001 15.0568 17.3977C14.9663 16.92 14.9867 16.4024 15.2052 15.8929C15.3474 15.5615 15.5658 15.2641 15.8391 15.0364C16.6089 14.3409 16.9615 13.6292 16.9615 12.5643C16.9615 10.7678 15.5828 9.42308 14 9.42308C12.397 9.42308 11.0385 10.7361 11.0385 12.5643C11.0385 13.6281 11.383 14.3212 12.1159 15.0137C12.3794 15.2319 12.5844 15.4839 12.7311 15.762C13.0244 16.3181 13.0578 16.8924 12.9442 17.4173C12.921 17.5247 12.8954 17.6102 12.8953 17.6008C12.641 18.5454 11.9832 18.9506 10.5398 19.4437L10.06 19.6057C9.8736 19.6689 9.72803 19.7199 9.58884 19.7713C8.90391 20.0241 8.41253 20.2823 8.05699 20.6044Z"
          fill={fill}
        />
      )}
    </Icon>
  );
};
